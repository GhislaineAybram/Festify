import{o as a,c as l,a as e,d as L,u as H,b as N,w as v,e as E,t as i,f as s,g as n,n as x,F as O,r as T,h as b,i as P,j as R,_ as G}from"./B8_L-OGO.js";import{s as y}from"./T4br1-qd.js";import{r as W}from"./CA_MqwmP.js";function q(c,t){return a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}function J(c,t){return a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function K(c,t){return a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 9v.906a2.25 2.25 0 0 1-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 0 0 1.183 1.981l6.478 3.488m8.839 2.51-4.66-2.51m0 0-1.023-.55a2.25 2.25 0 0 0-2.134 0l-1.022.55m0 0-4.661 2.51m16.5 1.615a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V8.844a2.25 2.25 0 0 1 1.183-1.981l7.5-4.039a2.25 2.25 0 0 1 2.134 0l7.5 4.039a2.25 2.25 0 0 1 1.183 1.98V19.5Z"})])}function Q(c,t){return a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function X(c,t){return a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function Y(c,t){return a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"})])}function ee(c,t){return a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"})])}function te(c,t){return a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}const se={class:"main"},oe={class:"bg-white"},re={class:"grid grid-cols-1 sm:grid-cols-2"},ie={id:"photo-title-celebration"},ne={class:"text-3xl font-bold sm:text-4xl"},ae=["src"],le={id:"celebration-author-name",class:"mt-4 text-gray-500"},de={id:"important-info",class:"content-center"},ce={class:"grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2"},ue={class:"flex items-center"},ge={class:"font-medium text-gray-900 flex px-2"},me={id:"celebration-answer"},pe={class:"grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2 border-t border-orange-200 pt-4 mt-4"},he={class:"flex items-center"},ve={class:"font-medium text-gray-900 flex px-2"},xe={class:"text-sm text-gray-500 self-center"},_e={class:"grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2 border-t border-orange-200 pt-4 mt-4"},fe={class:"flex items-center"},we={class:"font-medium text-gray-900 flex px-2"},be={class:"text-sm text-gray-500 self-center"},ye={class:"grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2 border-t border-orange-200 pt-4 mt-4"},ke={class:"flex items-center"},$e={class:"font-medium text-gray-900 flex px-2"},Ce={class:"text-sm text-gray-500 self-center"},Me={class:"grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2 border-t border-orange-200 pt-4 mt-4"},Ae={class:"flex items-center"},ze={class:"text-2xl text-gray-900 text-center"},je={id:"option-info",class:"grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2 mt-4"},Be={class:"flex items-center"},Ie={class:"font-medium text-gray-900 flex px-2"},Ve={class:"flex space-x-1"},Ze=["alt"],Ee={class:"mt-2 text-xs text-gray-900 text-center"},Fe={class:"border-t border-gray-200 pt-4 flex"},Se={class:"border-t border-gray-200 pt-4 flex"},Ue={class:"border-t border-gray-200 pt-4 flex"},De="https://images.unsplash.com/photo-1491528323818-fdd1faba62cc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",Le=L({__name:"[id]",async setup(c){let t,u;const{id:m}=H().params,{auth:F}=N(),{data:{user:_}}=([t,u]=v(()=>F.getUser()),t=await t,u(),t),p=_==null?void 0:_.id,f=R(),{data:g,error:k}=([t,u]=v(()=>b(()=>`${f.public.apiUrl}/celebration/${m}`,"$ci8EVDZZMN")),t=await t,u(),t);k.value&&console.error("Failed to fetch celebration data",k.value);const{data:$,error:C}=([t,u]=v(()=>b(()=>`${f.public.apiUrl}/guests/celebration/${m}`,"$Cixiz2D6g0")),t=await t,u(),t);C.value&&console.error("Failed to fetch nb of guest celebration",C.value);const S=E(()=>$.value.nb_guests||0),U=E(()=>$.value.guests_list||[]);(async()=>{const r=await $fetch("/api/guest",{method:"POST",body:{user_id:p,celebration_id:m}});if(r.error){console.error("Erreur lors de la création de l'invitation :",r.error);return}})();const{data:h,error:M}=([t,u]=v(()=>b(()=>`${f.public.apiUrl}/guest/${p}/${m}`,"$inWnIFKy7d")),t=await t,u(),t);M.value&&console.error("Failed to fetch guest response data",M.value);async function w(r){const o=await $fetch(`/api/guest/${p}/${m}`,{method:"POST",body:{userId:p,celebrationId:m,isComing:r}});if(o.error){console.error("Erreur lors de la mise à jour de la réponse :",o.error);return}h.value=r}return(r,o)=>{var A,z,j,B,I,V,Z;return a(),l("main",se,[e("div",oe,[e("div",re,[e("div",ie,[e("h1",ne,i((A=s(g))==null?void 0:A.name),1),e("img",{src:(z=s(g))==null?void 0:z.celebration_type.picture,alt:"photo de ballons",class:"photo-celebration"},null,8,ae),e("p",le,i(r.$t("celebration.created"))+" "+i((j=s(g))==null?void 0:j.author.firstname),1)]),e("div",de,[e("div",ce,[e("div",ue,[n(s(K),{class:"icon rounded-lg size-8 text-white p-1.5"}),e("div",ge,i(r.$t("celebration.answer")),1)]),e("div",me,[n(s(y),{icon:"pi pi-check",severity:"success",rounded:"","aria-label":"Filter",class:x({"opacity-40":s(h)!==!0}),onClick:o[0]||(o[0]=d=>w(!0))},null,8,["class"]),n(s(y),{icon:"pi pi-bell",severity:"warn",rounded:"","aria-label":"Notification",class:x({"opacity-40":s(h)!==null}),onClick:o[1]||(o[1]=d=>w(null))},null,8,["class"]),n(s(y),{icon:"pi pi-times",severity:"danger",rounded:"","aria-label":"Cancel",class:x({"opacity-40":s(h)!==!1}),onClick:o[2]||(o[2]=d=>w(!1))},null,8,["class"])])]),e("div",pe,[e("div",he,[n(s(q),{class:"icon rounded-lg size-8 text-white p-1.5"}),e("div",ve,i(r.$t("celebration.date")),1)]),e("div",xe,i(r.$d((B=s(g))==null?void 0:B.date,{year:"numeric",month:"long",day:"numeric"})),1)]),e("div",_e,[e("div",fe,[n(s(J),{class:"icon rounded-lg size-8 text-white p-1.5"}),e("div",we,i(r.$t("celebration.hour")),1)]),e("div",be,i(r.$d(new Date(`${new Date().toISOString().split("T")[0]}T${(I=s(g))==null?void 0:I.hour}`),{hour:"2-digit",minute:"2-digit"})),1)]),e("div",ye,[e("div",ke,[n(s(X),{class:"icon rounded-lg size-8 text-white p-1.5"}),e("div",$e,i(r.$t("celebration.address")),1)]),e("div",Ce,i((V=s(g))==null?void 0:V.address),1)]),e("div",Me,[e("div",Ae,[n(s(W),{class:"icon rounded-lg size-8 text-white p-1.5"}),o[3]||(o[3]=e("div",{class:"font-medium text-gray-900 flex px-2"}," Info annexes ",-1))]),o[4]||(o[4]=e("div",{class:"text-sm text-gray-500 self-center"}," blablabla ",-1))])])]),e("h3",ze,i((Z=s(g))==null?void 0:Z.description),1),e("div",je,[e("div",Be,[n(s(te),{class:"icon rounded-lg size-8 text-white p-1.5"}),e("div",Ie,i(s(S))+" "+i(r.$t("celebration.guests")),1)]),e("div",Ve,[(a(!0),l(O,null,T(s(U),(d,D)=>(a(),l("div",{key:D},[e("div",{style:P({backgroundImage:`url(${d.user_id.avatar.picture||De})`}),alt:d.user_id.avatar.picture_description||"User avatar",class:x(["inline-block size-12 rounded-full ring-2 guest-avatar",{"ring-green-500":d.is_coming===!0,"ring-red-500":d.is_coming===!1,"ring-gray-500":d.is_coming===null}])},null,14,Ze),e("p",Ee,i(d.user_id.alias),1)]))),128))]),e("div",Fe,[n(s(Q),{class:"icon rounded-lg size-8 text-white p-1.5"}),o[5]||(o[5]=e("div",{class:"flex items-center"},[e("div",{class:"font-medium text-gray-900 flex px-2"}," Lien cagnotte ")],-1))]),e("div",Se,[n(s(Y),{class:"icon rounded-lg size-8 text-white p-1.5"}),o[6]||(o[6]=e("div",{class:"flex items-center"},[e("div",{class:"font-medium text-gray-900 flex px-2"}," Playlist participative ")],-1))]),e("div",Ue,[n(s(ee),{class:"icon rounded-lg size-8 text-white p-1.5"}),o[7]||(o[7]=e("div",{class:"flex items-center"},[e("div",{class:"font-medium text-gray-900 flex px-2"}," Concours déguisement ")],-1))])])])])}}}),Pe=G(Le,[["__scopeId","data-v-ee577e12"]]);export{Pe as default};
