import{d as T,K as h,o as b,G as V,H as r,g as i,f as u,a as s,P as D,t as C,Q as E,X as U,c as _,m as g,B as Y,ah as Z,ai as J,D as S,k as K,J as B,n as Q,ab as W,aj as X,b as ee,ac as te,I as ne,U as oe,O as k,L as ae,_ as ce}from"./B8_L-OGO.js";import{r as se}from"./D3YCyNo-.js";import{Y as ie,h as A,G as le,V as re,S as de}from"./B9pIG8-N.js";import{F as ue}from"./CopwGUBO.js";import{s as pe}from"./T4br1-qd.js";import{_ as he,s as be,a as me}from"./D1XAytX0.js";const fe={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},xe={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},ke={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},ge={class:"sm:flex sm:items-start"},ve={class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10"},ye={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},we={class:"mt-2"},Ce={class:"text-sm text-gray-500"},_e={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},$e=T({__name:"AlertRegistration",setup(t){const n=h(!0);return(e,c)=>{const l=E;return b(),V(u(de),{as:"template",show:n.value},{default:r(()=>[i(u(ie),{class:"relative z-10",onClose:c[1]||(c[1]=o=>n.value=!1)},{default:r(()=>[i(u(A),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:r(()=>c[2]||(c[2]=[s("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1}),s("div",fe,[s("div",xe,[i(u(A),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:r(()=>[i(u(le),{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:r(()=>[s("div",ke,[s("div",ge,[s("div",ve,[i(u(se),{class:"h-6 w-6 text-green-600","aria-hidden":"true"})]),s("div",ye,[i(u(re),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:r(()=>[D(C(e.$t("register.successfull")),1)]),_:1}),s("div",we,[s("p",Ce,C(e.$t("register.success_message")),1)])])])]),s("div",_e,[i(l,{to:"/"},{default:r(()=>[s("button",{ref:"cancelButtonRef",type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:c[0]||(c[0]=o=>n.value=!1)},C(e.$t("button.ok")),513)]),_:1})])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])}}});var G={name:"CheckIcon",extends:U};function Ve(t,n,e,c,l,o){return b(),_("svg",g({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),n[0]||(n[0]=[s("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1)]),16)}G.render=Ve;var L={name:"MinusIcon",extends:U};function Se(t,n,e,c,l,o){return b(),_("svg",g({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),n[0]||(n[0]=[s("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1)]),16)}L.render=Se;var Be=function(n){var e=n.dt;return`
.p-checkbox {
    position: relative;
    display: inline-flex;
    user-select: none;
    vertical-align: bottom;
    width: `.concat(e("checkbox.width"),`;
    height: `).concat(e("checkbox.height"),`;
}

.p-checkbox-input {
    cursor: pointer;
    appearance: none;
    position: absolute;
    inset-block-start: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
    opacity: 0;
    z-index: 1;
    outline: 0 none;
    border: 1px solid transparent;
    border-radius: `).concat(e("checkbox.border.radius"),`;
}

.p-checkbox-box {
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: `).concat(e("checkbox.border.radius"),`;
    border: 1px solid `).concat(e("checkbox.border.color"),`;
    background: `).concat(e("checkbox.background"),`;
    width: `).concat(e("checkbox.width"),`;
    height: `).concat(e("checkbox.height"),`;
    transition: background `).concat(e("checkbox.transition.duration"),", color ").concat(e("checkbox.transition.duration"),", border-color ").concat(e("checkbox.transition.duration"),", box-shadow ").concat(e("checkbox.transition.duration"),", outline-color ").concat(e("checkbox.transition.duration"),`;
    outline-color: transparent;
    box-shadow: `).concat(e("checkbox.shadow"),`;
}

.p-checkbox-icon {
    transition-duration: `).concat(e("checkbox.transition.duration"),`;
    color: `).concat(e("checkbox.icon.color"),`;
    font-size: `).concat(e("checkbox.icon.size"),`;
    width: `).concat(e("checkbox.icon.size"),`;
    height: `).concat(e("checkbox.icon.size"),`;
}

.p-checkbox:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    border-color: `).concat(e("checkbox.hover.border.color"),`;
}

.p-checkbox-checked .p-checkbox-box {
    border-color: `).concat(e("checkbox.checked.border.color"),`;
    background: `).concat(e("checkbox.checked.background"),`;
}

.p-checkbox-checked .p-checkbox-icon {
    color: `).concat(e("checkbox.icon.checked.color"),`;
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    background: `).concat(e("checkbox.checked.hover.background"),`;
    border-color: `).concat(e("checkbox.checked.hover.border.color"),`;
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-icon {
    color: `).concat(e("checkbox.icon.checked.hover.color"),`;
}

.p-checkbox:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
    border-color: `).concat(e("checkbox.focus.border.color"),`;
    box-shadow: `).concat(e("checkbox.focus.ring.shadow"),`;
    outline: `).concat(e("checkbox.focus.ring.width")," ").concat(e("checkbox.focus.ring.style")," ").concat(e("checkbox.focus.ring.color"),`;
    outline-offset: `).concat(e("checkbox.focus.ring.offset"),`;
}

.p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
    border-color: `).concat(e("checkbox.checked.focus.border.color"),`;
}

.p-checkbox.p-invalid > .p-checkbox-box {
    border-color: `).concat(e("checkbox.invalid.border.color"),`;
}

.p-checkbox.p-variant-filled .p-checkbox-box {
    background: `).concat(e("checkbox.filled.background"),`;
}

.p-checkbox-checked.p-variant-filled .p-checkbox-box {
    background: `).concat(e("checkbox.checked.background"),`;
}

.p-checkbox-checked.p-variant-filled:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
    background: `).concat(e("checkbox.checked.hover.background"),`;
}

.p-checkbox.p-disabled {
    opacity: 1;
}

.p-checkbox.p-disabled .p-checkbox-box {
    background: `).concat(e("checkbox.disabled.background"),`;
    border-color: `).concat(e("checkbox.checked.disabled.border.color"),`;
}

.p-checkbox.p-disabled .p-checkbox-box .p-checkbox-icon {
    color: `).concat(e("checkbox.icon.disabled.color"),`;
}

.p-checkbox-sm,
.p-checkbox-sm .p-checkbox-box {
    width: `).concat(e("checkbox.sm.width"),`;
    height: `).concat(e("checkbox.sm.height"),`;
}

.p-checkbox-sm .p-checkbox-icon {
    font-size: `).concat(e("checkbox.icon.sm.size"),`;
    width: `).concat(e("checkbox.icon.sm.size"),`;
    height: `).concat(e("checkbox.icon.sm.size"),`;
}

.p-checkbox-lg,
.p-checkbox-lg .p-checkbox-box {
    width: `).concat(e("checkbox.lg.width"),`;
    height: `).concat(e("checkbox.lg.height"),`;
}

.p-checkbox-lg .p-checkbox-icon {
    font-size: `).concat(e("checkbox.icon.lg.size"),`;
    width: `).concat(e("checkbox.icon.lg.size"),`;
    height: `).concat(e("checkbox.icon.lg.size"),`;
}
`)},Ie={root:function(n){var e=n.instance,c=n.props;return["p-checkbox p-component",{"p-checkbox-checked":e.checked,"p-disabled":c.disabled,"p-invalid":e.$pcCheckboxGroup?e.$pcCheckboxGroup.$invalid:e.$invalid,"p-variant-filled":e.$variant==="filled","p-checkbox-sm p-inputfield-sm":c.size==="small","p-checkbox-lg p-inputfield-lg":c.size==="large"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},ze=Y.extend({name:"checkbox",theme:Be,classes:Ie}),Ae={name:"BaseCheckbox",extends:W,props:{value:null,binary:Boolean,indeterminate:{type:Boolean,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:ze,provide:function(){return{$pcCheckbox:this,$parentInstance:this}}};function Te(t){return Fe(t)||Le(t)||Ge(t)||Ue()}function Ue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ge(t,n){if(t){if(typeof t=="string")return I(t,n);var e={}.toString.call(t).slice(8,-1);return e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set"?Array.from(t):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?I(t,n):void 0}}function Le(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fe(t){if(Array.isArray(t))return I(t)}function I(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,c=Array(n);e<n;e++)c[e]=t[e];return c}var F={name:"Checkbox",extends:Ae,inheritAttrs:!1,emits:["change","focus","blur","update:indeterminate"],inject:{$pcCheckboxGroup:{default:void 0}},data:function(){return{d_indeterminate:this.indeterminate}},watch:{indeterminate:function(n){this.d_indeterminate=n}},methods:{getPTOptions:function(n){var e=n==="root"?this.ptmi:this.ptm;return e(n,{context:{checked:this.checked,indeterminate:this.d_indeterminate,disabled:this.disabled}})},onChange:function(n){var e=this;if(!this.disabled&&!this.readonly){var c=this.$pcCheckboxGroup?this.$pcCheckboxGroup.d_value:this.d_value,l;this.binary?l=this.d_indeterminate?this.trueValue:this.checked?this.falseValue:this.trueValue:this.checked||this.d_indeterminate?l=c.filter(function(o){return!Z(o,e.value)}):l=c?[].concat(Te(c),[this.value]):[this.value],this.d_indeterminate&&(this.d_indeterminate=!1,this.$emit("update:indeterminate",this.d_indeterminate)),this.$pcCheckboxGroup?this.$pcCheckboxGroup.writeValue(l,n):this.writeValue(l,n),this.$emit("change",n)}},onFocus:function(n){this.$emit("focus",n)},onBlur:function(n){var e,c;this.$emit("blur",n),(e=(c=this.formField).onBlur)===null||e===void 0||e.call(c,n)}},computed:{groupName:function(){return this.$pcCheckboxGroup?this.$pcCheckboxGroup.groupName:this.$formName},checked:function(){var n=this.$pcCheckboxGroup?this.$pcCheckboxGroup.d_value:this.d_value;return this.d_indeterminate?!1:this.binary?n===this.trueValue:J(this.value,n)}},components:{CheckIcon:G,MinusIcon:L}},Ne=["data-p-checked","data-p-indeterminate","data-p-disabled"],je=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid","aria-checked"];function Oe(t,n,e,c,l,o){var m=S("CheckIcon"),f=S("MinusIcon");return b(),_("div",g({class:t.cx("root")},o.getPTOptions("root"),{"data-p-checked":o.checked,"data-p-indeterminate":l.d_indeterminate||void 0,"data-p-disabled":t.disabled}),[s("input",g({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:o.groupName,checked:o.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,"aria-checked":l.d_indeterminate?"mixed":void 0,onFocus:n[0]||(n[0]=function(){return o.onFocus&&o.onFocus.apply(o,arguments)}),onBlur:n[1]||(n[1]=function(){return o.onBlur&&o.onBlur.apply(o,arguments)}),onChange:n[2]||(n[2]=function(){return o.onChange&&o.onChange.apply(o,arguments)})},o.getPTOptions("input")),null,16,je),s("div",g({class:t.cx("box")},o.getPTOptions("box")),[K(t.$slots,"icon",{checked:o.checked,indeterminate:l.d_indeterminate,class:Q(t.cx("icon"))},function(){return[o.checked?(b(),V(m,g({key:0,class:t.cx("icon")},o.getPTOptions("icon")),null,16,["class"])):l.d_indeterminate?(b(),V(f,g({key:1,class:t.cx("icon")},o.getPTOptions("icon")),null,16,["class"])):B("",!0)]})],16)],16,Ne)}F.render=Oe;const Pe={class:"main flex flex-col items-center"},qe={id:"register",class:"card w-full sm:w-80 p-6 mb-6"},Me={id:"form-inside",class:"sm:mx-auto sm:w-full sm:max-w-sm"},Re={class:"mt-4 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900"},He={id:"accept-conditions",class:"flex items-center gap-2 text-xs"},De={id:"accept-label",for:"accept"},Ee={href:"https://festivo-tawny.vercel.app/privacy"},Ye={key:0,class:"text-sm text-red-500"},Ze=T({__name:"register",setup(t){const n=X(),e=h(""),c=h(""),l=h(""),o=h(""),m=h(""),f=h(""),x=h(""),$=h(!1),z=h(!1),{auth:N}=ee(),j=d=>d?d.charAt(0).toUpperCase()+d.slice(1).toLowerCase():"",O=async()=>{if(!$.value){x.value="Vous devez accepter les termes et conditions.";return}if(m.value!==f.value){x.value="Passwords do not match!",m.value="",f.value="",setTimeout(()=>{x.value=""},3e3);return}try{const{error:d}=await N.signUp({email:o.value.toLowerCase(),password:m.value,options:{data:{firstname:j(e.value),lastname:c.value.toUpperCase(),alias:l.value}}});if(d)throw d;o.value="",m.value="",f.value="",e.value="",c.value="",l.value="",z.value=!0,console.log("User signed up successfully")}catch(d){console.error("Sign up error:",d),x.value=d.message,setTimeout(()=>{x.value=""},3e3)}};return te(()=>{n.value&&console.log("User logged in, redirecting to home")}),(d,a)=>{const v=be,y=ae,w=me,P=F,q=S("i18n-t"),M=pe,R=$e,H=ue;return b(),_("main",Pe,[a[14]||(a[14]=s("div",{class:"card flex justify-center"},null,-1)),s("div",qe,[ne((b(),_("form",{class:"w-full sm:w-80 flex flex-col gap-4",onSubmit:oe(O,["prevent"])},[s("div",Me,[a[7]||(a[7]=s("img",{class:"mx-auto h-14 w-auto",src:he,alt:"Logo Festivo"},null,-1)),s("h3",Re,C(d.$t("register.title")),1)]),i(w,null,{default:r(()=>[i(v,null,{default:r(()=>a[8]||(a[8]=[s("i",{class:"pi pi-user"},null,-1)])),_:1}),i(y,{id:"firstname",modelValue:u(e),"onUpdate:modelValue":a[0]||(a[0]=p=>k(e)?e.value=p:null),class:"text",type:"text",placeholder:d.$t("user.firstname"),autofocus:"",fluid:""},null,8,["modelValue","placeholder"])]),_:1}),i(w,null,{default:r(()=>[i(v,null,{default:r(()=>a[9]||(a[9]=[s("i",{class:"pi pi-user"},null,-1)])),_:1}),i(y,{id:"lastname",modelValue:u(c),"onUpdate:modelValue":a[1]||(a[1]=p=>k(c)?c.value=p:null),class:"text",type:"text",placeholder:d.$t("user.lastname"),autofocus:"",fluid:""},null,8,["modelValue","placeholder"])]),_:1}),i(w,null,{default:r(()=>[i(v,null,{default:r(()=>a[10]||(a[10]=[s("i",{class:"pi pi-user"},null,-1)])),_:1}),i(y,{id:"alias",modelValue:u(l),"onUpdate:modelValue":a[2]||(a[2]=p=>k(l)?l.value=p:null),class:"text",type:"text",placeholder:d.$t("user.alias"),autofocus:"",fluid:""},null,8,["modelValue","placeholder"])]),_:1}),i(w,null,{default:r(()=>[i(v,null,{default:r(()=>a[11]||(a[11]=[s("i",{class:"pi pi-envelope"},null,-1)])),_:1}),i(y,{id:"email",modelValue:u(o),"onUpdate:modelValue":a[3]||(a[3]=p=>k(o)?o.value=p:null),class:"text",type:"email",placeholder:d.$t("user.email"),fluid:""},null,8,["modelValue","placeholder"])]),_:1}),i(w,null,{default:r(()=>[i(v,null,{default:r(()=>a[12]||(a[12]=[s("i",{class:"pi pi-key"},null,-1)])),_:1}),i(y,{id:"password1",modelValue:u(m),"onUpdate:modelValue":a[4]||(a[4]=p=>k(m)?m.value=p:null),class:"text",type:"password",placeholder:d.$t("user.password"),fluid:""},null,8,["modelValue","placeholder"])]),_:1}),i(w,null,{default:r(()=>[i(v,null,{default:r(()=>a[13]||(a[13]=[s("i",{class:"pi pi-key"},null,-1)])),_:1}),i(y,{id:"password2",modelValue:u(f),"onUpdate:modelValue":a[5]||(a[5]=p=>k(f)?f.value=p:null),class:"text",type:"password",placeholder:d.$t("user.password_confirmed"),fluid:""},null,8,["modelValue","placeholder"])]),_:1}),s("div",He,[i(P,{id:"accept",modelValue:u($),"onUpdate:modelValue":a[6]||(a[6]=p=>k($)?$.value=p:null),name:"accept",value:"Accept"},null,8,["modelValue"]),s("label",De,[i(q,{keypath:"register.agree.text"},{default:r(()=>[s("a",Ee,C(d.$t("register.agree.link_text")),1)]),_:1})])]),u(x)?(b(),_("span",Ye,C(u(x)),1)):B("",!0),i(M,{id:"sign-up-button",type:"submit",label:d.$t("register.button"),icon:"pi pi-user-plus",class:"mt-2"},null,8,["label"])],32)),[[H]])]),u(z)?(b(),V(R,{key:0,class:"alert"})):B("",!0)])}}}),tt=ce(Ze,[["__scopeId","data-v-a1264b04"]]);export{tt as default};
